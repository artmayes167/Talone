<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<model type="com.apple.IDECoreDataModeler.DataModel" documentVersion="1.0" lastSavedToolsVersion="17192" systemVersion="19G2531" minimumToolsVersion="Automatic" sourceLanguage="Swift" userDefinedModelVersionIdentifier="">
    <entity name="Address" representedClassName=".Address" parentEntity="AppLocationInfo" syncable="YES">
        <attribute name="street1" attributeType="String"/>
        <attribute name="street2" optional="YES" attributeType="String"/>
        <attribute name="title" attributeType="String"/>
        <attribute name="uid" attributeType="String"/>
        <attribute name="zip" optional="YES" attributeType="String"/>
        <relationship name="templates" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="CardTemplate"/>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="title"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <entity name="AppLocationInfo" representedClassName=".AppLocationInfo" isAbstract="YES" syncable="YES">
        <attribute name="city" attributeType="String"/>
        <attribute name="country" attributeType="String" defaultValueString="USA"/>
        <attribute name="state" attributeType="String"/>
    </entity>
    <entity name="CardTemplate" representedClassName=".CardTemplate" syncable="YES">
        <attribute name="image" optional="YES" attributeType="Transformable" valueTransformerName="ImageTransformer" allowsExternalBinaryDataStorage="YES"/>
        <attribute name="templateTitle" optional="YES" attributeType="String"/>
        <attribute name="uid" optional="YES" attributeType="String"/>
        <attribute name="userHandle" optional="YES" attributeType="String"/>
        <relationship name="addresses" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="Address"/>
        <relationship name="emails" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="Email"/>
        <relationship name="phoneNumbers" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="PhoneNumber"/>
        <relationship name="socialMedia" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="SocialMedia"/>
    </entity>
    <entity name="CardTemplateInstance" representedClassName=".CardTemplateInstance" parentEntity="CardTemplate" syncable="YES">
        <attribute name="message" optional="YES" attributeType="String"/>
        <attribute name="personalNotes" optional="YES" attributeType="String"/>
        <attribute name="receiverUserHandle" attributeType="String"/>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="receiverUserHandle"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <entity name="Community" representedClassName=".Community" syncable="YES">
        <attribute name="name" attributeType="String"/>
    </entity>
    <entity name="Contact" representedClassName=".Contact" syncable="YES">
        <attribute name="contactHandle" attributeType="String"/>
        <attribute name="contactUid" attributeType="String"/>
        <fetchedProperty name="rating" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="ContactRating" predicateString="contactHandle == $FETCH_SOURCE.contactHandle"/>
        </fetchedProperty>
        <fetchedProperty name="receivedCards" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="CardTemplateInstance" predicateString="userHandle == $FETCH_SOURCE.contactHandle"/>
        </fetchedProperty>
        <fetchedProperty name="sentCards" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="CardTemplateInstance" predicateString="receiverUserHandle == $FETCH_SOURCE.contactHandle"/>
        </fetchedProperty>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="contactHandle"/>
                <constraint value="contactUid"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <entity name="ContactRating" representedClassName=".ContactRating" syncable="YES">
        <attribute name="bad" optional="YES" attributeType="Integer 64" defaultValueString="0.0" usesScalarValueType="YES"/>
        <attribute name="contactHandle" attributeType="String"/>
        <attribute name="good" optional="YES" attributeType="Integer 64" defaultValueString="0" usesScalarValueType="YES"/>
        <attribute name="justSo" optional="YES" attributeType="Integer 64" defaultValueString="0" usesScalarValueType="YES"/>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="contactHandle"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <entity name="Email" representedClassName=".Email" syncable="YES">
        <attribute name="emailString" attributeType="String"/>
        <attribute name="title" attributeType="String"/>
        <attribute name="uid" attributeType="String"/>
        <relationship name="templates" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="CardTemplate"/>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="title"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <entity name="Have" representedClassName=".Have" parentEntity="Item" syncable="YES">
        <attribute name="parentHaveItemId" optional="YES" attributeType="String"/>
        <attribute name="personalNotes" optional="YES" attributeType="String"/>
        <fetchedProperty name="childHaves" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="Have" predicateString="parentHaveItemId  == $FETCH_SOURCE.id"/>
        </fetchedProperty>
        <fetchedProperty name="childNeeds" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="Need" predicateString="parentHaveItemId  == $FETCH_SOURCE.id"/>
        </fetchedProperty>
    </entity>
    <entity name="ImageInfo" representedClassName=".ImageInfo" syncable="YES">
        <attribute name="handle" attributeType="String"/>
        <attribute name="image" optional="YES" attributeType="Transformable" valueTransformerName="ImageTransformer" allowsExternalBinaryDataStorage="YES" customClassName="."/>
        <attribute name="imageName" optional="YES" attributeType="String"/>
        <attribute name="imageURLString" optional="YES" attributeType="String"/>
    </entity>
    <entity name="Item" representedClassName=".Item" isAbstract="YES" syncable="YES">
        <attribute name="category" attributeType="String"/>
        <attribute name="createdAt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="createdBy" attributeType="String"/>
        <attribute name="desc" optional="YES" attributeType="String"/>
        <attribute name="headline" optional="YES" attributeType="String"/>
        <attribute name="id" attributeType="String"/>
        <attribute name="modifiedAt" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <attribute name="owner" attributeType="String"/>
        <attribute name="validUntil" optional="YES" attributeType="Date" usesScalarValueType="NO"/>
        <relationship name="location" optional="YES" maxCount="1" deletionRule="No Action" destinationEntity="SearchLocation"/>
    </entity>
    <entity name="Need" representedClassName=".Need" parentEntity="Item" syncable="YES">
        <attribute name="parentHaveItemId" optional="YES" attributeType="String"/>
        <attribute name="parentNeedItemId" optional="YES" attributeType="String"/>
        <attribute name="personalNotes" optional="YES" attributeType="String"/>
        <fetchedProperty name="childNeeds" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="Need" predicateString="parentNeedItemId  == $FETCH_SOURCE.id"/>
        </fetchedProperty>
    </entity>
    <entity name="PhoneNumber" representedClassName=".PhoneNumber" syncable="YES">
        <attribute name="number" attributeType="String"/>
        <attribute name="title" attributeType="String"/>
        <attribute name="uid" attributeType="String"/>
        <relationship name="templates" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="CardTemplate"/>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="title"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <entity name="SearchLocation" representedClassName=".SearchLocation" parentEntity="AppLocationInfo" syncable="YES">
        <attribute name="community" attributeType="String"/>
        <attribute name="type" attributeType="String"/>
        <relationship name="items" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="Item"/>
    </entity>
    <entity name="SocialMedia" representedClassName=".SocialMedia" syncable="YES">
        <attribute name="personalURLString" optional="YES" attributeType="String"/>
        <attribute name="siteName" attributeType="String"/>
        <attribute name="siteURLString" optional="YES" attributeType="String"/>
        <attribute name="uid" attributeType="String"/>
        <attribute name="userName" attributeType="String"/>
        <relationship name="templates" optional="YES" toMany="YES" deletionRule="No Action" destinationEntity="CardTemplate"/>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="siteName"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <entity name="User" representedClassName=".User" syncable="YES">
        <attribute name="handle" attributeType="String"/>
        <attribute name="uid" attributeType="String"/>
        <fetchedProperty name="addresses" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="Address" predicateString="uid  == $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <fetchedProperty name="cardTemplates" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="CardTemplate" predicateString="uid == $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <fetchedProperty name="contacts" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="Contact" predicateString="contactHandle != $FETCH_SOURCE.handle"/>
        </fetchedProperty>
        <fetchedProperty name="emails" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="Email" predicateString="uid  == $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <fetchedProperty name="haves" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="User" predicateString="uid  == $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <fetchedProperty name="images" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="ImageInfo" predicateString="handle == $FETCH_SOURCE.handle"/>
        </fetchedProperty>
        <fetchedProperty name="needs" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="Need" predicateString="uid  == $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <fetchedProperty name="phoneNumbers" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="PhoneNumber" predicateString="uid  == $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <fetchedProperty name="searchLocations" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="SearchLocation" predicateString="city != $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <fetchedProperty name="socialMedia" optional="YES" transient="YES">
            <fetchRequest name="fetchedPropertyFetchRequest" entity="SocialMedia" predicateString="uid  == $FETCH_SOURCE.uid"/>
        </fetchedProperty>
        <uniquenessConstraints>
            <uniquenessConstraint>
                <constraint value="handle"/>
                <constraint value="uid"/>
            </uniquenessConstraint>
        </uniquenessConstraints>
    </entity>
    <elements>
        <element name="CardTemplate" positionX="-54" positionY="-9" width="128" height="163"/>
        <element name="ContactRating" positionX="-36" positionY="9" width="128" height="103"/>
        <element name="Email" positionX="-18" positionY="27" width="128" height="103"/>
        <element name="Community" positionX="0" positionY="45" width="128" height="58"/>
        <element name="Need" positionX="18" positionY="63" width="128" height="116"/>
        <element name="Contact" positionX="36" positionY="81" width="128" height="131"/>
        <element name="ImageInfo" positionX="-9" positionY="36" width="128" height="103"/>
        <element name="SearchLocation" positionX="0" positionY="45" width="128" height="88"/>
        <element name="SocialMedia" positionX="9" positionY="54" width="128" height="133"/>
        <element name="User" positionX="18" positionY="63" width="128" height="236"/>
        <element name="Address" positionX="27" positionY="72" width="128" height="133"/>
        <element name="AppLocationInfo" positionX="36" positionY="81" width="128" height="88"/>
        <element name="Item" positionX="45" positionY="90" width="128" height="193"/>
        <element name="PhoneNumber" positionX="0" positionY="45" width="128" height="103"/>
        <element name="CardTemplateInstance" positionX="9" positionY="54" width="128" height="88"/>
        <element name="Have" positionX="18" positionY="63" width="128" height="116"/>
    </elements>
</model>